import socket


s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
# s.connect(('pwnable.kr', 9007))
s.connect(('localhost', 9007))

print(s.recv(10000))


while True:
    tmp = s.recv(10000)

    print("=========")
    tmp = tmp.split('=')

    print(tmp)
    N = tmp[1].split(' ')[0]
    C = tmp[2].split('\n')[0]
    print(N,C)

    N = int(N)
    C = int(C)

    b = 0
    c = N
    cur_range = range(N)
    cur = 0
    while True:
        #print("==========")
        #if len(cur_range[b:(b+c+1)//2]) < 10:
        #    print cur_range[b:(b+c+1)//2]
        s.send(' '.join([str(i) for i in cur_range[b:(b+c+1)//2]])+'\n')
        cur += 1
        tmp = s.recv(10000)
        tmp = int(tmp.split('\n')[0])
        print(str(b)+" "+str(c))
        #print(tmp)
        a = (b+c+1)//2
        #print(tmp%10)
        if tmp%10 != 9:
            b = a
        else:
            c = a
        if tmp == 9 or tmp == 10:
            while cur < C:
                print("One more")
                s.send('0\n')
                s.recv(1024)
                cur += 1
            print("Finished ...", b, c)
            s.send(str(b)+"\n")
            print(s.recv(10000))
            break
